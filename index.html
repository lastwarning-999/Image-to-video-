<!-- AI Video Builder Web Interface -->
<!-- Credit: @hardhackar007 (Telegram) -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>AI Video Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    body { background:#000; color:#00ff9d; font-family:monospace; }
    .active { box-shadow:0 0 10px #00ff9d; transform:scale(1.02); }
    .raw-data { background:#000; color:#00ff9d; border:1px solid #00ff9d; border-radius:8px; padding:10px; }
    .download-btn { margin-top:10px; }
  </style>
</head>
<body>
<div class="container py-4">
  <h1 class="text-center mb-4">AI Video Builder</h1>
  <div class="d-flex justify-content-center mb-3">
    <button id="btnText" class="btn btn-outline-light active">Text → Video</button>
    <button id="btnImage" class="btn btn-outline-light ms-2">Image + Text → Video</button>
  </div>
  <div class="card bg-dark mb-3"><div class="card-body">
    <div id="textModule">
      <textarea id="description" class="form-control mb-2" rows="4" placeholder="Enter a prompt..."></textarea>
    </div>
    <div id="imageModule" style="display:none">
      <input id="imageFile" class="form-control mb-2" type="file" accept="image/*"/>
      <textarea id="description2" class="form-control mb-2" rows="3" placeholder="Description for the image..."></textarea>
    </div>
    <button id="submitBtn" class="btn btn-success w-100">Create Video</button>
    <div id="loader" class="mt-3" style="display:none;color:#00ff9d;">Processing...</div>
  </div></div>
  <div id="resultArea" style="display:none">
    <h4>Result</h4>
    <div id="videoContainer"></div>
  </div>
</div>
<a href="https://t.me/hardhackar007" target="_blank" style="position:fixed;bottom:20px;right:20px;background:#0088cc;color:#fff;padding:12px 15px;border-radius:50%;font-size:22px;">TG</a>

<script>
let currentModule="TEXT_TO_VIDEO";
btnText.onclick=()=>{currentModule="TEXT_TO_VIDEO";btnText.classList.add("active");btnImage.classList.remove("active");textModule.style.display="block";imageModule.style.display="none";}
btnImage.onclick=()=>{currentModule="IMAGE_TO_VIDEO";btnImage.classList.add("active");btnText.classList.remove("active");textModule.style.display="none";imageModule.style.display="block";}
submitBtn.onclick=async()=>{
  resultArea.style.display="none";videoContainer.innerHTML="";
  loader.style.display="block";
  let fd=new FormData();fd.append("module",currentModule);
  if(currentModule==="TEXT_TO_VIDEO"){
    let d=description.value.trim();if(!d){alert("Enter a description");loader.style.display="none";return;}
    fd.append("description",d);
  }else{
    let d=description2.value.trim();if(!d){alert("Enter a description");loader.style.display="none";return;}
    fd.append("description",d);
    if(imageFile.files[0]) fd.append("image_file",imageFile.files[0]);
  }
  let res=await fetch("/generate",{method:"POST",body:fd});let j=await res.json();
  loader.style.display="none";resultArea.style.display="block";
  if(j.status==="ok"&&j.video_url){
    videoContainer.innerHTML=`
      <video controls style="max-width:100%;margin-top:10px;">
        <source src="${j.video_url}" type="video/mp4">
      </video>
      <br>
      <a href="${j.video_url}" download="ai_video.mp4" class="btn btn-info download-btn">⬇️ Download Video</a>
    `;
  }else{
    videoContainer.innerHTML="<div class='raw-data'>"+(j.message||"Error")+"</div>";
  }
}
</script>
</body>
</html>
